<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
	<style type="text/css">
	* {
		padding: 0;
		margin: 0;
	}
/*	ul {
		position: relative;
		margin: 0 auto;
		width: 600px;
		height: 80px;
	}
	ul li {
		float: left;
		border: 1px solid black;
		width: 148px;
		height: 78px;
		text-align: center;
		line-height: 78px;
		list-style: none;
	}
	.dong {
		position: absolute;
		left: 0;
		top: 0;
		background-color: orange;
		opacity: 0.5;

	}*/
		div {
			height: 100px;
			width: 100px;
			background-color: red;
			border-radius: 50%;
			position: absolute;

		}
	</style>
</head>
<body>

<!-- 	<ul>
		<li>老</li>
		<li>子</li>
		<li>最</li>
		<li>帅</li>
		<li class="dong"></li>
	</ul>

 -->


	<div></div>

	<script type="text/javascript">
		var div = document.getElementsByTagName('div')[0];

		div.onmousedown = function (e) {
			clearInterval(this.timer);
			var event = e || window.event;
			var lastX = this.offsetLeft;
			var lastY = this.offsetTop;
			var iSpeedX = 0;
			var iSpeedY = 0;
			var disX = event.clientX - this.offsetLeft;
			var disY = event.clientY - this.offsetTop;
			var _self = this;
			document.onmousemove = function (e) {
				event = e || window.event;
				var newL =  event.clientX - disX;
				var newT = event.clientY - disY;



				// var span = document.createElement('span');
				// span.style.cssText = 'position:absolute; width:5px; height:5px; background-color:black;left:' + newL + 'px;top:' + newT + 'px;';
				// document.body.appendChild(span);



				iSpeedX = newL - lastX;
				lastX = newL;
				iSpeedY = newT - lastY;
				lastY = newT; 





				_self.style.left = newL + 'px';
				_self.style.top = newT + 'px';
			}
			document.onmouseup = function (e) {
				event = e || window.event;
				document.onmousemove = null;
				document.onmouseup = null;
				MoveTwo(_self, iSpeedX, iSpeedY);
			}
		}




		function MoveTwo (obj, iSpeedX, iSpeedY) {
			clearInterval(obj.timer);
			var g = 3;
			obj.timer = setInterval(function () {
				iSpeedY += g;
				var newX = obj.offsetLeft + iSpeedX;
				var newY = obj.offsetTop + iSpeedY;
				if (newY >= document.documentElement.clientHeight - obj.offsetHeight) {
					iSpeedY *= -1;
					iSpeedY *= 0.8;
					iSpeedX *= 0.8;
					newY = document.documentElement.clientHeight - obj.offsetHeight;
				}
				if (newY < 0) {
					iSpeedY *= -1;
					iSpeedY *= 0.8;
					newY = 0;
				}
				if (newX >= document.documentElement.clientWidth - obj.offsetWidth) {
					iSpeedX *= -1;
					iSpeedX *= 0.8;
					newX = document.documentElement.clientWidth - obj.offsetWidth;
				}
				if (newX < 0) {
					iSpeedX *= -1;
					iSpeedX *= 0.8;
					newX = 0;
				}
				if (Math.abs(iSpeedX) < 1) {
					iSpeedX = 0;
				}
				if (Math.abs(iSpeedY) < 1) {
					iSpeedY = 0;
				}
				if (iSpeedX === 0 && iSpeedY === 0 && newY === (document.documentElement.clientHeight - obj.offsetHeight)) {
					clearInterval(obj.timer);
				}
				obj.style.left = newX + 'px';
				obj.style.top = newY + 'px';
			}, 30)
		}
		// div.onclick = function () {
		// 	Move(this, 600);
		// }


		// var li = document.getElementsByTagName('li');


		// for (var i = 0; i < li.length - 1; i++) {
		// 	li[i].onmouseenter = function () {
		// 		Move(li[li.length - 1], this.offsetLeft);
		// 	}
		// }



		// function Move (obj, iTarget) {
		// 	clearInterval(obj.timer);
		// 	var iSpeed = 0;
		// 	var a = 0;
		// 	var u = 0.8;
		// 	obj.timer = setInterval(function () {
		// 		a = (iTarget - obj.offsetLeft) / 7;
		// 		iSpeed = iSpeed + a;
		// 		iSpeed = iSpeed * 0.8;
		// 		// console.log(iSpeed);
		// 		// if (Math.abs(iTarget - obj.offsetLeft < 1) && Math.abs(iSpeed < 1)){
		// 		// 	clearInterval(obj.timer);
		// 		// }
		// 		obj.style.left = obj.offsetLeft + iSpeed + 'px';
		// 		if (obj.offsetLeft === iTarget && Math.abs(iSpeed < 1)) {
		// 			clearInterval(obj.timer);
		// 		}
		// 	}, 30)
		

		// }






 


	</script>











</body>
</html>